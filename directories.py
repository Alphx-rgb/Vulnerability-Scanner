
import requests
import os
def directories(url):
    print(os.getcwd())
    try:
        os.mkdir('report')
        os.chdir('report')
    except:
        os.chdir('report')
    try:
        os.mkdir('Data_Scraped')
        os.chdir('Data_Scraped')
    except:
        os.chdir('Data_Scraped')
    #print(os.getcwd())
    f1=open("'Directories Founded'.txt","w")
    os.chdir("./../..")
    #print(os.getcwd())
    f1.write("URL\t\tredircted URL(if any)\n")
    if(url[-1] != '/'):
            urll=url+"/"
    else:
        urll=url
    with open(f"directories.txt","r") as f:
        for i in range(20): #change this to the number of words you want to scan
            directory=f.readline()
            try:
                client=requests.get(urll + directory[:-1] )  # [:-1] is beacause to remove '\n' in line of directories.txt
                if(client.status_code==200):
                    f1.write(directory[:-1] + "\t\t:" +urll +"\n")
                if(300<client.status_code<400):
                    f1.write(directory[:-1] + "\t\t:" +urll +  "\tRedirects to \t"+  client.url + ":")
                    # print("redireced link:",end="")
                    for response in (client.history):
                        f1.write(response.url + ",")
                    f1.write("\n")
            except:
                pass
    f.close()
    f1.close()
    #############################################################
