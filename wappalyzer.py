from Wappalyzer import Wappalyzer, WebPage
import os
def analyze(url):
    try:
        os.mkdir('report')
        os.chdir('report')
    except:
        os.chdir('report')
    f=open('Website Analysis','w')
    wappalyzer = Wappalyzer.latest()
    webpage = WebPage.new_from_url(url)
    f.write("URL: " + url + "\n")
    f.write(str(wappalyzer.analyze(webpage) )+"\n")
    f.write( str(wappalyzer.analyze_with_categories(webpage)) +"\n")
    f.write(str(wappalyzer.analyze_with_versions_and_categories(webpage)) +"\n")

    f.close()
    os.chdir("./..")